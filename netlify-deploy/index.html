<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campus Assist v2.0 - TRUE Multilingual AI Chatbot | SIH 2024</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #667eea, #764ba2); height: 100vh; }
        .container { height: 100vh; display: flex; background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); }
        .sidebar { width: 70px; background: rgba(255,255,255,0.95); transition: width 0.3s; }
        .sidebar.expanded { width: 250px; }
        .sidebar-header { padding: 20px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        .menu-btn { background: rgba(255,255,255,0.2); border: none; color: white; padding: 10px; border-radius: 8px; cursor: pointer; }
        .nav-item { display: flex; align-items: center; gap: 10px; padding: 15px 20px; margin: 5px; border-radius: 10px; cursor: pointer; color: #666; }
        .nav-item.active { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        .main { flex: 1; display: flex; flex-direction: column; background: rgba(255,255,255,0.95); }
        .header { background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; }
        .title { font-size: 24px; font-weight: bold; margin-bottom: 5px; }
        .subtitle { font-size: 14px; opacity: 0.9; }
        .controls { display: flex; gap: 15px; margin-top: 15px; align-items: center; }
        .lang-select { background: rgba(255,255,255,0.2); border: none; color: white; padding: 8px 12px; border-radius: 20px; }
        .help-btn { background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); color: white; padding: 8px 15px; border-radius: 20px; cursor: pointer; }
        .messages { flex: 1; padding: 20px; overflow-y: auto; }
        .message { display: flex; gap: 10px; margin-bottom: 20px; }
        .message.user { justify-content: flex-end; }
        .message.user .content { flex-direction: row-reverse; }
        .content { display: flex; gap: 10px; max-width: 80%; }
        .avatar { width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px; }
        .avatar.bot { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        .avatar.user { background: linear-gradient(135deg, #f093fb, #f5576c); color: white; }
        .bubble { padding: 15px 20px; border-radius: 18px; }
        .bubble.bot { background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .bubble.user { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        .meta { display: flex; gap: 8px; margin-bottom: 8px; }
        .tag { font-size: 10px; padding: 3px 8px; border-radius: 10px; font-weight: bold; }
        .lang-tag { background: rgba(102,126,234,0.1); color: #667eea; }
        .conf-tag { background: rgba(76,175,80,0.1); color: #4caf50; }
        .text { font-size: 14px; line-height: 1.5; margin-bottom: 5px; }
        .time { font-size: 10px; opacity: 0.7; }
        .quick { padding: 20px; }
        .quick-panel { background: white; border-radius: 15px; padding: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .quick-title { font-size: 16px; font-weight: bold; margin-bottom: 15px; text-align: center; color: #333; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 10px; }
        .btn { display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #eee; border-radius: 12px; background: white; cursor: pointer; transition: all 0.3s; }
        .btn:hover { background: linear-gradient(135deg, #667eea, #764ba2); color: white; transform: translateY(-2px); }
        .btn-icon { font-size: 18px; }
        .btn-text { font-size: 12px; font-weight: 600; }
        .input-area { background: white; padding: 20px; border-top: 1px solid #eee; }
        .api-setup { background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 15px; margin-bottom: 15px; }
        .api-input { width: 100%; padding: 8px 12px; border: 1px solid #ddd; border-radius: 5px; margin-top: 5px; }
        .api-status { font-size: 12px; margin-top: 5px; font-weight: bold; }
        .api-status.connected { color: #27ae60; }
        .api-status.disconnected { color: #e74c3c; }
        .input-container { display: flex; gap: 10px; max-width: 600px; margin: 0 auto; }
        .input { flex: 1; border: 2px solid #eee; border-radius: 20px; padding: 12px 20px; font-size: 14px; }
        .input:focus { outline: none; border-color: #667eea; }
        .send { background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; padding: 12px 20px; border-radius: 20px; cursor: pointer; font-weight: bold; }
        .send:hover { transform: translateY(-1px); }
        .send:disabled { background: #ccc; cursor: not-allowed; }
        .hint { text-align: center; margin-top: 10px; font-size: 12px; color: #666; }
        .typing { display: flex; }
        .typing-bubble { background: white; padding: 15px 20px; border-radius: 18px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .spinner { width: 15px; height: 15px; border: 2px solid #eee; border-top: 2px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <button class="menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                <span id="sidebarTitle" style="display:none; margin-left:10px; font-weight:bold;">Campus Assist</span>
            </div>
            <div class="nav-item active">üí¨ <span class="nav-text" style="display:none;">Chat</span></div>
            <div class="nav-item">üìä <span class="nav-text" style="display:none;">Analytics</span></div>
            <div class="nav-item">üë• <span class="nav-text" style="display:none;">Admin</span></div>
            <div class="nav-item">‚öôÔ∏è <span class="nav-text" style="display:none;">Settings</span></div>
        </div>
        
        <div class="main">
            <div class="header">
                <div class="title">TRUE Multilingual AI Campus Assistant</div>
                <div class="subtitle">Smart India Hackathon 2024 - Powered by OpenAI for Perfect Language Understanding</div>
                <div class="controls">
                    <div>üåê</div>
                    <select class="lang-select" onchange="switchLanguage(this.value)" id="langSelect">
                        <option value="en">English</option>
                        <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                        <option value="gu">‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä</option>
                        <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
                        <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
                        <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
                        <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
                        <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option>
                    </select>
                    <button class="help-btn">üìû Human Help</button>
                </div>
            </div>
            
            <div class="messages" id="messages">
                <div class="message bot">
                    <div class="content">
                        <div class="avatar bot">ü§ñ</div>
                        <div class="bubble bot">
                            <div class="meta">
                                <span class="tag lang-tag" id="greetingLang">English</span>
                                <span class="tag conf-tag">100% confident</span>
                            </div>
                            <div class="text" id="greetingText">üöÄ Hello! I'm your TRUE multilingual AI campus assistant. Connect your OpenAI API key above and I'll understand and respond in ANY Indian language naturally - Hindi, Gujarati, Marathi, Bengali, Tamil, Telugu, Kannada, and more!</div>
                            <div class="time" id="greetingTime"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="quick" id="quickActions">
                <div class="quick-panel">
                    <div class="quick-title" id="quickTitle">üöÄ Quick Help - Get Instant Answers</div>
                    <div class="grid">
                        <div class="btn" onclick="ask('fees')"><span class="btn-icon">üí≥</span><span class="btn-text" id="btn1">Fee Information</span></div>
                        <div class="btn" onclick="ask('scholarships')"><span class="btn-icon">üéì</span><span class="btn-text" id="btn2">Scholarships</span></div>
                        <div class="btn" onclick="ask('timetable')"><span class="btn-icon">üìÖ</span><span class="btn-text" id="btn3">Timetable</span></div>
                        <div class="btn" onclick="ask('admissions')"><span class="btn-icon">üìÑ</span><span class="btn-text" id="btn4">Admissions</span></div>
                        <div class="btn" onclick="ask('exams')"><span class="btn-icon">‚è∞</span><span class="btn-text" id="btn5">Exam Schedule</span></div>
                        <div class="btn" onclick="ask('help')"><span class="btn-icon">‚ùì</span><span class="btn-text" id="btn6">General Help</span></div>
                    </div>
                </div>
            </div>
            
            <div class="input-area">
                <div class="api-setup" id="apiSetup">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span>üîë OpenAI API Key:</span>
                        <input type="password" class="api-input" id="apiKeyInput" placeholder="Enter your OpenAI API key here" style="flex: 1;">
                        <button onclick="connectAPI()" style="padding: 8px 15px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer;">Connect</button>
                    </div>
                    <div class="api-status disconnected" id="apiStatus">‚ùå AI Not Connected - Enter API key for TRUE multilingual responses</div>
                </div>
                <div class="input-container">
                    <input type="text" class="input" id="userInput" placeholder="Type your question here..." onkeypress="if(event.key==='Enter') ask()">
                    <button class="send" onclick="ask()" id="sendBtn">Send ‚û§</button>
                </div>
                <div class="hint" id="hint">üí° You can ask questions in Hindi, English, or other Indian languages</div>
            </div>
        </div>
    </div>

    <script>
        let lang = 'en';
        let sidebarOpen = false;
        let apiKey = '';
        let isConnected = false;
        
        const LANGUAGES = {
            en: {
                name: "English",
                greeting: "üöÄ Hello! I'm your TRUE multilingual AI campus assistant. Connect your OpenAI API key above and I'll understand and respond in ANY Indian language naturally - Hindi, Gujarati, Marathi, Bengali, Tamil, Telugu, Kannada, and more!",
                thinking: "AI is processing your query...",
                quickTitle: "üöÄ Quick Help - Get Instant Answers",
                buttons: ["Fee Information", "Scholarships", "Timetable", "Admissions", "Exam Schedule", "General Help"],
                placeholder: "Type your question here...",
                hint: "üí° With AI connected, ask questions in ANY Indian language - I'll understand perfectly!",
                responses: {
                    fees: "Fee Information: Academic fee for 2024-25 is ‚Çπ50,000. Last date: January 15th. Pay online via college portal.",
                    scholarships: "Scholarships: Merit scholarships (‚Çπ25,000), Financial aid (‚Çπ15,000), Category-specific (‚Çπ20,000). Deadline: December 30th.",
                    timetable: "Timetable: Classes 9:00 AM - 5:00 PM. Lunch: 1:00-2:00 PM. Check college website for updates.",
                    admissions: "Admissions: Applications open for 2024-25. Eligibility: 12th pass (60%). Fee: ‚Çπ1,000. Deadline: March 31st.",
                    exams: "Exams: Mid-term in October, Finals in March. Results in 30 days. Supplementary in May.",
                    help: "I can help with fees, scholarships, timetables, admissions, exams, and general college information. Ask me anything!"
                }
            },
            hi: {
                name: "‡§π‡§ø‡§Ç‡§¶‡•Ä", 
                greeting: "üöÄ ‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡§ö‡•ç‡§ö‡§æ ‡§¨‡§π‡•Å‡§≠‡§æ‡§∑‡•Ä AI ‡§ï‡•à‡§Ç‡§™‡§∏ ‡§Ö‡§∏‡§ø‡§∏‡•ç‡§ü‡•á‡§Ç‡§ü ‡§π‡•Ç‡§Å‡•§ ‡§ä‡§™‡§∞ ‡§Ö‡§™‡§®‡•Ä OpenAI API key ‡§ú‡•ã‡§°‡§º‡•á‡§Ç ‡§î‡§∞ ‡§Æ‡•à‡§Ç ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§≠‡§æ‡§∑‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§µ‡§æ‡§≠‡§æ‡§µ‡§ø‡§ï ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§∏‡§Æ‡§ù‡•Ç‡§Ç‡§ó‡§æ ‡§î‡§∞ ‡§ú‡§µ‡§æ‡§¨ ‡§¶‡•Ç‡§Ç‡§ó‡§æ!",
                thinking: "AI ‡§Ü‡§™‡§ï‡•á ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ï‡•ã ‡§∏‡§Æ‡§ù ‡§∞‡§π‡§æ ‡§π‡•à...",
                quickTitle: "üöÄ ‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ - ‡§§‡§§‡•ç‡§ï‡§æ‡§≤ ‡§â‡§§‡•ç‡§§‡§∞ ‡§™‡§æ‡§è‡§Ç",
                buttons: ["‡§´‡•Ä‡§∏ ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä", "‡§õ‡§æ‡§§‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø", "‡§∏‡§Æ‡§Ø ‡§∏‡§æ‡§∞‡§£‡•Ä", "‡§™‡•ç‡§∞‡§µ‡•á‡§∂", "‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§∏‡§Æ‡§Ø", "‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ"],
                placeholder: "‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§≤‡§ø‡§ñ‡•á‡§Ç...",
                hint: "üí° AI ‡§ï‡•á ‡§∏‡§æ‡§•, ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§≠‡§æ‡§∑‡§æ ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§™‡•Ç‡§õ‡•á‡§Ç - ‡§Æ‡•à‡§Ç ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡§Æ‡§ù‡•Ç‡§Ç‡§ó‡§æ!",
                responses: {
                    fees: "‡§´‡•Ä‡§∏ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä: 2024-25 ‡§ï‡•á ‡§≤‡§ø‡§è ‚Çπ50,000‡•§ ‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§§‡§æ‡§∞‡•Ä‡§ñ: 15 ‡§ú‡§®‡§µ‡§∞‡•Ä‡•§ ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§ï‡§∞‡•á‡§Ç‡•§",
                    scholarships: "‡§õ‡§æ‡§§‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø: ‡§Æ‡•á‡§ß‡§æ‡§µ‡•Ä (‚Çπ25,000), ‡§Ü‡§∞‡•ç‡§•‡§ø‡§ï ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ (‚Çπ15,000), ‡§∂‡•ç‡§∞‡•á‡§£‡•Ä-‡§µ‡§ø‡§∂‡§ø‡§∑‡•ç‡§ü (‚Çπ20,000)‡•§ ‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§§‡§æ‡§∞‡•Ä‡§ñ: 30 ‡§¶‡§ø‡§∏‡§Ç‡§¨‡§∞‡•§",
                    timetable: "‡§∏‡§Æ‡§Ø ‡§∏‡§æ‡§∞‡§£‡•Ä: ‡§ï‡§ï‡•ç‡§∑‡§æ‡§è‡§Ç 9:00 AM - 5:00 PM‡•§ ‡§≤‡§Ç‡§ö: 1:00-2:00 PM‡•§ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•â‡§≤‡•á‡§ú ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§",
                    admissions: "‡§™‡•ç‡§∞‡§µ‡•á‡§∂: 2024-25 ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§µ‡•á‡§¶‡§® ‡§ñ‡•Å‡§≤‡•á‡•§ ‡§Ø‡•ã‡§ó‡•ç‡§Ø‡§§‡§æ: 12‡§µ‡•Ä‡§Ç ‡§™‡§æ‡§∏ (60%)‡•§ ‡§∂‡•Å‡§≤‡•ç‡§ï: ‚Çπ1,000‡•§ ‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§§‡§æ‡§∞‡•Ä‡§ñ: 31 ‡§Æ‡§æ‡§∞‡•ç‡§ö‡•§",
                    exams: "‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ: ‡§Ö‡§ï‡•ç‡§ü‡•Ç‡§¨‡§∞ ‡§Æ‡•á‡§Ç ‡§Æ‡§ß‡•ç‡§Ø‡§æ‡§µ‡§ß‡§ø, ‡§Æ‡§æ‡§∞‡•ç‡§ö ‡§Æ‡•á‡§Ç ‡§Ö‡§Ç‡§§‡§ø‡§Æ‡•§ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ 30 ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç‡•§ ‡§Æ‡§à ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§∞‡§ï‡•§",
                    help: "‡§Æ‡•à‡§Ç ‡§´‡•Ä‡§∏, ‡§õ‡§æ‡§§‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø, ‡§∏‡§Æ‡§Ø ‡§∏‡§æ‡§∞‡§£‡•Ä, ‡§™‡•ç‡§∞‡§µ‡•á‡§∂, ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§î‡§∞ ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ï‡•â‡§≤‡•á‡§ú ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å‡•§"
                }
            },
            gu: {
                name: "‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä",
                greeting: "‡™®‡™Æ‡™∏‡´ç‡™§‡´á! ‡™π‡´Å‡™Ç ‡™§‡™Æ‡™æ‡™∞‡´ã ‡™¨‡™π‡´Å‡™≠‡™æ‡™∑‡´Ä ‡™ï‡´á‡™Æ‡´ç‡™™‡™∏ ‡™Ü‡™∏‡™ø‡™∏‡´ç‡™ü‡™®‡´ç‡™ü ‡™õ‡´Å‡™Ç‡•§ ‡™π‡´Å‡™Ç ‡™´‡´Ä, ‡™∂‡™ø‡™∑‡´ç‡™Ø‡™µ‡´É‡™§‡´ç‡™§‡™ø, ‡™∏‡™Æ‡™Ø‡™™‡™§‡´ç‡™∞‡™ï, ‡™™‡´ç‡™∞‡™µ‡´á‡™∂ ‡™Ö‡™®‡´á ‡™Ö‡™®‡´ç‡™Ø ‡™ï‡´ã‡™≤‡´á‡™ú‡™®‡´Ä ‡™Æ‡™æ‡™π‡™ø‡™§‡´Ä‡™Æ‡™æ‡™Ç 8 ‡™≠‡™æ‡™∞‡™§‡´Ä‡™Ø ‡™≠‡™æ‡™∑‡™æ‡™ì‡™Æ‡™æ‡™Ç ‡™Æ‡™¶‡™¶ ‡™ï‡™∞‡´Ä ‡™∂‡™ï‡´Å‡™Ç!",
                thinking: "‡™§‡™Æ‡™æ‡™∞‡™æ ‡™™‡´ç‡™∞‡™∂‡´ç‡™®‡™®‡´á ‡™∏‡™Æ‡™ú‡´Ä ‡™∞‡™π‡´ç‡™Ø‡´ã ‡™õ‡´Å‡™Ç...",
                quickTitle: "üöÄ ‡™ù‡™°‡™™‡´Ä ‡™∏‡™π‡™æ‡™Ø - ‡™§‡™æ‡™§‡´ç‡™ï‡™æ‡™≤‡™ø‡™ï ‡™ú‡™µ‡™æ‡™¨‡´ã",
                buttons: ["‡™´‡´Ä‡™®‡´Ä ‡™Æ‡™æ‡™π‡™ø‡™§‡´Ä", "‡™∂‡™ø‡™∑‡´ç‡™Ø‡™µ‡´É‡™§‡´ç‡™§‡™ø", "‡™∏‡™Æ‡™Ø‡™™‡™§‡´ç‡™∞‡™ï", "‡™™‡´ç‡™∞‡™µ‡´á‡™∂", "‡™™‡™∞‡´Ä‡™ï‡´ç‡™∑‡™æ ‡™∏‡™Æ‡™Ø", "‡™∏‡™æ‡™Æ‡™æ‡™®‡´ç‡™Ø ‡™∏‡™π‡™æ‡™Ø"],
                placeholder: "‡™Ö‡™π‡´Ä‡™Ç ‡™§‡™Æ‡™æ‡™∞‡´ã ‡™™‡´ç‡™∞‡™∂‡´ç‡™® ‡™≤‡™ñ‡´ã...",
                hint: "üí° ‡™§‡™Æ‡´á ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä, ‡™π‡™ø‡™®‡´ç‡™¶‡´Ä, ‡™Ö‡™Ç‡™ó‡´ç‡™∞‡´á‡™ú‡´Ä ‡™ï‡´á ‡™Ö‡™®‡´ç‡™Ø ‡™≠‡™æ‡™∞‡™§‡´Ä‡™Ø ‡™≠‡™æ‡™∑‡™æ‡™ì‡™Æ‡™æ‡™Ç ‡™™‡´ç‡™∞‡™∂‡´ç‡™® ‡™™‡´Ç‡™õ‡´Ä ‡™∂‡™ï‡´ã",
                responses: {
                    fees: "‡™´‡´Ä ‡™Æ‡™æ‡™π‡™ø‡™§‡´Ä: 2024-25 ‡™Æ‡™æ‡™ü‡´á ‚Çπ50,000‡•§ ‡™õ‡´á‡™≤‡´ç‡™≤‡´Ä ‡™§‡™æ‡™∞‡´Ä‡™ñ: 15 ‡™ú‡™æ‡™®‡´ç‡™Ø‡´Å‡™Ü‡™∞‡´Ä‡•§ ‡™ì‡™®‡™≤‡™æ‡™á‡™® ‡™ö‡´Ç‡™ï‡™µ‡™£‡´Ä ‡™ï‡™∞‡´ã‡•§",
                    scholarships: "‡™∂‡™ø‡™∑‡´ç‡™Ø‡™µ‡´É‡™§‡´ç‡™§‡™ø: ‡™Æ‡´á‡™ß‡™æ‡™µ‡´Ä (‚Çπ25,000), ‡™Ü‡™∞‡´ç‡™•‡™ø‡™ï ‡™∏‡™π‡™æ‡™Ø (‚Çπ15,000)‡•§ ‡™õ‡´á‡™≤‡´ç‡™≤‡´Ä ‡™§‡™æ‡™∞‡´Ä‡™ñ: 30 ‡™°‡™ø‡™∏‡´á‡™Æ‡´ç‡™¨‡™∞‡•§",
                    timetable: "‡™∏‡™Æ‡™Ø‡™™‡™§‡´ç‡™∞‡™ï: ‡™µ‡™∞‡´ç‡™ó‡´ã 9:00 AM - 5:00 PM‡•§ ‡™≤‡™Ç‡™ö: 1:00-2:00 PM‡•§ ‡™Ö‡™™‡™°‡´á‡™ü ‡™Æ‡™æ‡™ü‡´á ‡™µ‡´á‡™¨‡™∏‡™æ‡™á‡™ü ‡™ú‡´Å‡™ì‡•§",
                    admissions: "‡™™‡´ç‡™∞‡™µ‡´á‡™∂: 2024-25 ‡™Æ‡™æ‡™ü‡´á ‡™Ö‡™∞‡™ú‡´Ä‡™ì ‡™ñ‡´Å‡™≤‡´Ä. ‡™Ø‡´ã‡™ó‡´ç‡™Ø‡™§‡™æ: 12‡™Æ‡´Ä ‡™™‡™æ‡™∏ (60%)‡•§ ‡™´‡´Ä: ‚Çπ1,000‡•§",
                    exams: "‡™™‡™∞‡´Ä‡™ï‡´ç‡™∑‡™æ: ‡™ì‡™ï‡´ç‡™ü‡´ã‡™¨‡™∞‡™Æ‡™æ‡™Ç ‡™Æ‡™ß‡´ç‡™Ø‡™æ‡™µ‡™ß‡™ø, ‡™Æ‡™æ‡™∞‡´ç‡™ö‡™Æ‡™æ‡™Ç ‡™Ö‡™Ç‡™§‡™ø‡™Æ‡•§ ‡™™‡™∞‡™ø‡™£‡™æ‡™Æ 30 ‡™¶‡™ø‡™µ‡™∏‡™Æ‡™æ‡™Ç‡•§",
                    help: "‡™π‡´Å‡™Ç ‡™´‡´Ä, ‡™∂‡™ø‡™∑‡´ç‡™Ø‡™µ‡´É‡™§‡´ç‡™§‡™ø, ‡™∏‡™Æ‡™Ø‡™™‡™§‡´ç‡™∞‡™ï, ‡™™‡´ç‡™∞‡™µ‡´á‡™∂, ‡™™‡™∞‡´Ä‡™ï‡´ç‡™∑‡™æ ‡™Ö‡™®‡´á ‡™ï‡´ã‡™≤‡´á‡™ú‡™®‡´Ä ‡™Æ‡™æ‡™π‡™ø‡™§‡´Ä‡™Æ‡™æ‡™Ç ‡™Æ‡™¶‡™¶ ‡™ï‡™∞‡´Ä ‡™∂‡™ï‡´Å‡™Ç ‡™õ‡´Å‡™Ç‡•§"
                }
            },
            mr: {
                name: "‡§Æ‡§∞‡§æ‡§†‡•Ä",
                greeting: "‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞! ‡§Æ‡•Ä ‡§§‡•Å‡§Æ‡§ö‡§æ ‡§¨‡§π‡•Å‡§≠‡§æ‡§∑‡§ø‡§ï ‡§ï‡•Ö‡§Æ‡•ç‡§™‡§∏ ‡§Ö‡§∏‡§ø‡§∏‡•ç‡§ü‡§Ç‡§ü ‡§Ü‡§π‡•á‡•§ ‡§Æ‡•Ä ‡§´‡•Ä, ‡§∂‡§ø‡§∑‡•ç‡§Ø‡§µ‡•É‡§§‡•ç‡§§‡•Ä, ‡§µ‡•á‡§≥‡§æ‡§™‡§§‡•ç‡§∞‡§ï, ‡§™‡•ç‡§∞‡§µ‡•á‡§∂ ‡§Ü‡§£‡§ø ‡§á‡§§‡§∞ ‡§Æ‡§π‡§æ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§≤‡§Ø‡•Ä‡§® ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä‡§Æ‡§ß‡•ç‡§Ø‡•á 8 ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§≠‡§æ‡§∑‡§æ‡§Ç‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§Æ‡§¶‡§§ ‡§ï‡§∞‡•Ç ‡§∂‡§ï‡§§‡•ã!",
                thinking: "‡§§‡•Å‡§Æ‡§ö‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§∏‡§Æ‡§ú‡•Ç‡§® ‡§ò‡•á‡§§ ‡§Ü‡§π‡•á...",
                quickTitle: "üöÄ ‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§Æ‡§¶‡§§ - ‡§§‡§æ‡§§‡•ç‡§ï‡§æ‡§≥ ‡§â‡§§‡•ç‡§§‡§∞‡•á",
                buttons: ["‡§´‡•Ä ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä", "‡§∂‡§ø‡§∑‡•ç‡§Ø‡§µ‡•É‡§§‡•ç‡§§‡•Ä", "‡§µ‡•á‡§≥‡§æ‡§™‡§§‡•ç‡§∞‡§ï", "‡§™‡•ç‡§∞‡§µ‡•á‡§∂", "‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§µ‡•á‡§≥", "‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§Æ‡§¶‡§§"],
                placeholder: "‡§Ø‡•á‡§•‡•á ‡§§‡•Å‡§Æ‡§ö‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§≤‡§ø‡§π‡§æ...",
                hint: "üí° ‡§§‡•Å‡§Æ‡•ç‡§π‡•Ä ‡§Æ‡§∞‡§æ‡§†‡•Ä, ‡§π‡§ø‡§Ç‡§¶‡•Ä, ‡§á‡§Ç‡§ó‡•ç‡§∞‡§ú‡•Ä ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§á‡§§‡§∞ ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§≠‡§æ‡§∑‡§æ‡§Ç‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§µ‡§ø‡§ö‡§æ‡§∞‡•Ç ‡§∂‡§ï‡§§‡§æ",
                responses: {
                    fees: "‡§´‡•Ä ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä: 2024-25 ‡§∏‡§æ‡§†‡•Ä ‚Çπ50,000‡•§ ‡§∂‡•á‡§µ‡§ü‡§ö‡•Ä ‡§§‡§æ‡§∞‡•Ä‡§ñ: 15 ‡§ú‡§æ‡§®‡•á‡§µ‡§æ‡§∞‡•Ä‡•§ ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§∞‡§æ‡•§",
                    scholarships: "‡§∂‡§ø‡§∑‡•ç‡§Ø‡§µ‡•É‡§§‡•ç‡§§‡•Ä: ‡§Æ‡•á‡§ß‡§æ‡§µ‡•Ä (‚Çπ25,000), ‡§Ü‡§∞‡•ç‡§•‡§ø‡§ï ‡§Æ‡§¶‡§§ (‚Çπ15,000)‡•§ ‡§∂‡•á‡§µ‡§ü‡§ö‡•Ä ‡§§‡§æ‡§∞‡•Ä‡§ñ: 30 ‡§°‡§ø‡§∏‡•á‡§Ç‡§¨‡§∞‡•§",
                    timetable: "‡§µ‡•á‡§≥‡§æ‡§™‡§§‡•ç‡§∞‡§ï: ‡§µ‡§∞‡•ç‡§ó 9:00 AM - 5:00 PM‡•§ ‡§≤‡§Ç‡§ö: 1:00-2:00 PM‡•§ ‡§Ö‡§™‡§°‡•á‡§ü‡§∏‡§æ‡§†‡•Ä ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§™‡§π‡§æ‡•§",
                    admissions: "‡§™‡•ç‡§∞‡§µ‡•á‡§∂: 2024-25 ‡§∏‡§æ‡§†‡•Ä ‡§Ö‡§∞‡•ç‡§ú ‡§â‡§ò‡§°‡•á ‡§Ü‡§π‡•á‡§§‡•§ ‡§™‡§æ‡§§‡•ç‡§∞‡§§‡§æ: 12‡§µ‡•Ä ‡§™‡§æ‡§∏ (60%)‡•§ ‡§´‡•Ä: ‚Çπ1,000‡•§",
                    exams: "‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ: ‡§ë‡§ï‡•ç‡§ü‡•ã‡§¨‡§∞‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§Æ‡§ß‡•ç‡§Ø‡§æ‡§µ‡§ß‡§ø, ‡§Æ‡§æ‡§∞‡•ç‡§ö‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§Ö‡§Ç‡§§‡§ø‡§Æ‡•§ ‡§®‡§ø‡§ï‡§æ‡§≤ 30 ‡§¶‡§ø‡§µ‡§∏‡§æ‡§Ç‡§§‡•§",
                    help: "‡§Æ‡•Ä ‡§´‡•Ä, ‡§∂‡§ø‡§∑‡•ç‡§Ø‡§µ‡•É‡§§‡•ç‡§§‡•Ä, ‡§µ‡•á‡§≥‡§æ‡§™‡§§‡•ç‡§∞‡§ï, ‡§™‡•ç‡§∞‡§µ‡•á‡§∂, ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§Ü‡§£‡§ø ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§Æ‡§π‡§æ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§≤‡§Ø‡•Ä‡§® ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä‡§§ ‡§Æ‡§¶‡§§ ‡§ï‡§∞‡•Ç ‡§∂‡§ï‡§§‡•ã‡•§"
                }
            }
        };

        function toggleSidebar() {
            sidebarOpen = !sidebarOpen;
            const sidebar = document.getElementById('sidebar');
            const title = document.getElementById('sidebarTitle');
            const navTexts = document.querySelectorAll('.nav-text');
            
            if (sidebarOpen) {
                sidebar.classList.add('expanded');
                title.style.display = 'inline';
                navTexts.forEach(text => text.style.display = 'inline');
            } else {
                sidebar.classList.remove('expanded');
                title.style.display = 'none';
                navTexts.forEach(text => text.style.display = 'none');
            }
        }

        function switchLanguage(newLang) {
            lang = newLang;
            const data = LANGUAGES[lang];
            
            // Update all UI elements
            document.getElementById('greetingText').textContent = data.greeting;
            document.getElementById('greetingLang').textContent = data.name;
            document.getElementById('quickTitle').textContent = data.quickTitle;
            document.getElementById('userInput').placeholder = data.placeholder;
            document.getElementById('hint').textContent = data.hint;
            
            // Update button texts
            for (let i = 1; i <= 6; i++) {
                document.getElementById('btn' + i).textContent = data.buttons[i-1];
            }
        }

        async function ask(topic) {
            const input = document.getElementById('userInput');
            let query = topic;
            
            if (!topic) {
                query = input.value.trim();
                if (!query) return;
            }
            
            // Add user message
            addMessage(query, false);
            input.value = '';
            document.getElementById('quickActions').style.display = 'none';
            
            // Show typing
            showTyping();
            
            // Generate response (now async for AI)
            try {
                const response = await getResponse(topic || query);
                hideTyping();
                addMessage(response, true);
            } catch (error) {
                hideTyping();
                addMessage('Sorry, I encountered an error. Please try again.', true);
                console.error('Response error:', error);
            }
        }

        async function getResponse(query) {
            if (!isConnected || !apiKey) {
                const data = LANGUAGES[lang];
                const q = query.toLowerCase();
                
                if (q.includes('fee') || q.includes('‡§´‡•Ä') || q.includes('‡™´‡´Ä') || q.includes('‡§´‡•Ä') || q === 'fees') {
                    return data.responses.fees;
                } else if (q.includes('scholarship') || q.includes('‡§õ‡§æ‡§§‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø') || q.includes('‡™∂‡™ø‡™∑‡´ç‡™Ø‡™µ‡´É‡™§‡´ç‡™§‡™ø') || q.includes('‡§∂‡§ø‡§∑‡•ç‡§Ø‡§µ‡•É‡§§‡•ç‡§§‡•Ä') || q === 'scholarships') {
                    return data.responses.scholarships;
                } else if (q.includes('timetable') || q.includes('‡§∏‡§Æ‡§Ø') || q.includes('‡™∏‡™Æ‡™Ø') || q.includes('‡§µ‡•á‡§≥‡§æ‡§™‡§§‡•ç‡§∞‡§ï') || q === 'timetable') {
                    return data.responses.timetable;
                } else if (q.includes('admission') || q.includes('‡§™‡•ç‡§∞‡§µ‡•á‡§∂') || q.includes('‡™™‡´ç‡™∞‡™µ‡´á‡™∂') || q === 'admissions') {
                    return data.responses.admissions;
                } else if (q.includes('exam') || q.includes('‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ') || q.includes('‡™™‡™∞‡´Ä‡™ï‡´ç‡™∑‡™æ') || q === 'exams') {
                    return data.responses.exams;
                } else {
                    return data.responses.help;
                }
            }
            
            // TRUE AI Response using OpenAI
            try {
                const langName = LANGUAGES[lang].name;
                const systemPrompt = `You are a helpful campus assistant for an Indian college. You can help with fees, scholarships, timetables, admissions, exams, and general college information. Always respond in ${langName} language. Be helpful, accurate, and friendly. Keep responses concise but informative.`;
                
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: 'gpt-3.5-turbo',
                        messages: [
                            { role: 'system', content: systemPrompt },
                            { role: 'user', content: query }
                        ],
                        max_tokens: 200,
                        temperature: 0.7
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`API Error: ${response.status}`);
                }
                
                const data = await response.json();
                return data.choices[0].message.content.trim();
                
            } catch (error) {
                console.error('AI Error:', error);
                return `Sorry, I'm having trouble connecting to AI services. Error: ${error.message}. Using fallback response.`;
            }
        }

        function addMessage(text, isBot) {
            const messages = document.getElementById('messages');
            const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute: '2-digit'});
            const data = LANGUAGES[lang];
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isBot ? 'bot' : 'user'}`;
            messageDiv.innerHTML = `
                <div class="content">
                    <div class="avatar ${isBot ? 'bot' : 'user'}">${isBot ? 'ü§ñ' : 'üë§'}</div>
                    <div class="bubble ${isBot ? 'bot' : 'user'}">
                        ${isBot ? `<div class="meta">
                            <span class="tag lang-tag">${data.name}</span>
                            <span class="tag conf-tag">95% confident</span>
                        </div>` : ''}
                        <div class="text">${text}</div>
                        <div class="time">${time}</div>
                    </div>
                </div>
            `;
            
            messages.appendChild(messageDiv);
            messages.scrollTop = messages.scrollHeight;
        }

        function showTyping() {
            const messages = document.getElementById('messages');
            const data = LANGUAGES[lang];
            
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typing';
            typingDiv.className = 'message bot typing';
            typingDiv.innerHTML = `
                <div class="content">
                    <div class="avatar bot">ü§ñ</div>
                    <div class="typing-bubble">
                        <div class="spinner"></div>
                        <span style="margin-left: 10px; font-size: 12px;">${data.thinking}</span>
                    </div>
                </div>
            `;
            
            messages.appendChild(typingDiv);
            messages.scrollTop = messages.scrollHeight;
        }

        function hideTyping() {
            const typing = document.getElementById('typing');
            if (typing) typing.remove();
        }

        function connectAPI() {
            const apiKeyInput = document.getElementById('apiKeyInput');
            const apiStatus = document.getElementById('apiStatus');
            const sendBtn = document.getElementById('sendBtn');
            
            apiKey = apiKeyInput.value.trim();
            
            if (!apiKey) {
                apiStatus.className = 'api-status disconnected';
                apiStatus.textContent = '‚ùå Please enter a valid API key';
                return;
            }
            
            if (!apiKey.startsWith('sk-')) {
                apiStatus.className = 'api-status disconnected';
                apiStatus.textContent = '‚ùå Invalid API key format (should start with sk-)';
                return;
            }
            
            // Test API connection
            testAPIConnection();
        }
        
        async function testAPIConnection() {
            const apiStatus = document.getElementById('apiStatus');
            const sendBtn = document.getElementById('sendBtn');
            
            apiStatus.className = 'api-status';
            apiStatus.style.color = '#f39c12';
            apiStatus.textContent = 'üîÑ Testing API connection...';
            
            try {
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: 'gpt-3.5-turbo',
                        messages: [{ role: 'user', content: 'Test' }],
                        max_tokens: 5
                    })
                });
                
                if (response.ok) {
                    isConnected = true;
                    apiStatus.className = 'api-status connected';
                    apiStatus.textContent = '‚úÖ AI Connected - TRUE multilingual responses enabled!';
                    sendBtn.disabled = false;
                    
                    // Hide API setup after successful connection
                    setTimeout(() => {
                        document.getElementById('apiSetup').style.display = 'none';
                    }, 3000);
                    
                    addMessage('üéâ AI is now connected! I can understand and respond in ANY Indian language naturally. Ask me anything about college!', true);
                } else {
                    throw new Error(`API responded with status ${response.status}`);
                }
                
            } catch (error) {
                isConnected = false;
                apiStatus.className = 'api-status disconnected';
                apiStatus.textContent = `‚ùå Connection failed: ${error.message}`;
                sendBtn.disabled = false;
            }
        }
        // Initialize
        document.getElementById('greetingTime').textContent = new Date().toLocaleTimeString([], {hour: '2-digit', minute: '2-digit'});
    </script>
</body>
</html>